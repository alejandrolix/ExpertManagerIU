<div *ngIf="siniestro != undefined">
    <h2 class="mb-4">Detalles siniestro</h2>
    <div class="row">
        <div class="col-sm-2">
            <dt>Estado</dt>
        </div>
        <div class="col-sm-10">
            <dd>{{ siniestro.estado }}</dd>
        </div>
        <div class="col-sm-2">
            <dt>Aseguradora</dt>
        </div>
        <div class="col-sm-10">
            <dd>{{ siniestro.aseguradora }}</dd>
        </div>
        <div class="col-sm-2">
            <dt>Descripción</dt>
        </div>
        <div class="col-sm-10">
            <dd>{{ siniestro.descripcion }}</dd>
        </div>
        <div class="col-sm-2">
            <dt>Perito</dt>
        </div>
        <div class="col-sm-10">
            <dd>{{ siniestro.perito }}</dd>
        </div>
        <div class="col-sm-2">
            <dt>Fecha/Hora Alta</dt>
        </div>
        <div class="col-sm-10">
            <dd>{{ siniestro.fechaHoraAlta }}</dd>
        </div>
        <div class="col-sm-2">
            <dt>Sujeto Afectado</dt>
        </div>
        <div class="col-sm-10">
            <dd>{{ siniestro.sujetoAfectado }}</dd>
        </div>
        <div class="col-sm-2">
            <dt>Daño</dt>
        </div>
        <div class="col-sm-10">
            <dd>{{ siniestro.danio }}</dd>
        </div>
        <div class="col-sm-2">
            <dt>Imp. Valoración Daños</dt>
        </div>
        <div class="col-sm-10">
            <dd>{{ siniestro.impValoracionDanios }}</dd>
        </div>
    </div>

    <h2 class="mb-3 mt-5">Documentación</h2>
    <div class="d-flex justify-content-end mb-3" *ngIf="tienePermisoAdministracion()">
        <i title="Subir documentación" (click)="subirDocumentacion(siniestro.id)" class="fas fa-plus"></i>
    </div>
    <div class="table-responsive">
        <table class="table table-striped table-hover">
            <thead>
                <tr>
                    <th scope="col">Descripción</th>
                    <th scope="col"></th>
                    <th scope="col" *ngIf="tienePermisoAdministracion()"></th>
                </tr>
            </thead>
            <tbody>
                <tr *ngFor="let documentacion of documentaciones">
                    <td>{{ documentacion.descripcion }}</td>
                    <td class="align-middle" (click)="verArchivo(documentacion.id)">
                        <i title="Ver documentación" class="fas fa-search"></i>              
                    </td>
                    <td class="align-middle" (click)="eliminarDocumentacion(documentacion.id)" *ngIf="tienePermisoAdministracion()">
                        <i title="Eliminar" class="fas fa-trash-alt"></i>
                    </td>
                </tr>
            </tbody>
        </table>
    </div>

    <h2 class="mb-3 mt-5">Imágenes</h2>
    <div class="d-flex justify-content-end mb-3" *ngIf="tienePermisoAdministracion()">
        <i title="Subir imagen" (click)="subirImagen(siniestro.id)" class="fas fa-plus"></i>
    </div>
    <div class="table-responsive">
        <table class="table table-striped table-hover">
            <thead>
                <tr>
                    <th scope="col">Descripción</th>
                    <th scope="col"></th>
                    <th scope="col" *ngIf="tienePermisoAdministracion()"></th>
                </tr>
            </thead>
            <tbody>
                <tr *ngFor="let imagen of imagenes">
                    <td>{{ imagen.descripcion }}</td>
                    <td class="align-middle" (click)="verImagen(imagen.id)">
                        <i title="Ver imagen" class="fas fa-search"></i>              
                    </td>
                    <td class="align-middle" (click)="eliminarImagen(imagen.id)" *ngIf="tienePermisoAdministracion()">
                        <i title="Eliminar" class="fas fa-trash-alt"></i>
                    </td>
                </tr>
            </tbody>
        </table>
    </div>

    <h2 class="mb-3 mt-5">Mensajes</h2>
    <div class="d-flex justify-content-end mb-3">
        <i title="Crear mensaje" (click)="crearMensaje(siniestro.id)" class="fas fa-plus"></i>
    </div>
    <div class="table-responsive">
        <table class="table table-striped table-hover">
            <thead>
                <tr>
                    <th scope="col">Descripción</th>
                    <th scope="col">Usuario Creado</th>
                    <th scope="col"></th>
                </tr>
            </thead>
            <tbody>
                <tr *ngFor="let mensaje of mensajes">
                    <td>{{ mensaje.descripcion }}</td>
                    <td>{{ mensaje.usuarioCreado }}</td>
                    <td class="align-middle">
                        <i title="Eliminar" class="fas fa-trash-alt"></i>
                    </td>
                </tr>
            </tbody>
        </table>
    </div>
</div>